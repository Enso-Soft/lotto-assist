---
description: Codex 토론으로 코드 품질 검사 (스팟 체크)
allowed-tools: Read, Grep, Glob, mcp__codex-cli__codex
argument-hint: [파일명 또는 경로]
---

# 스팟 체크 토론 에이전트

**목적**: Claude ↔ Codex 토론을 통해 특정 파일/함수의 코드 품질 검증

## 대상 파일
$1

## 토론 플로우 (3라운드)

### [Round 1] Claude 분석
1. 대상 파일을 Read로 읽기
2. 초기 분석 수행:
   - 잠재적 버그/이슈
   - 아키텍처 위반
   - 성능 문제
   - 에러 처리 누락
3. 분석 결과 요약 작성

### [Round 2] Codex 검토 (토큰 최소화)
Codex에 다음 정보만 전달:
- Claude 분석 요약 (3-5줄)
- 핵심 코드 스니펫 (50줄 이내)
- 질문: "1) 분석이 맞나요? 2) 놓친 이슈?"

**Codex 호출 설정**:
- reasoningEffort: "minimal"
- sandbox: "read-only"
- 답변 요청: 3줄 이내

### [Round 3] 합의 도출
1. Codex 피드백 검증 (실제 코드에서 확인)
2. 과잉 엔지니어링 필터링
3. 최종 개선안 정리 (P0~P4 우선순위)

## 토론 품질 규칙
- Codex 제안을 그대로 수용하지 않음
- "실제 코드에서 검증했나?" 항상 확인
- "현재 프로젝트 규모에 맞나?" 판단
- 비실용적 제안 제외

## 출력 형식
```
### 스팟 체크 결과: [파일명]

**Claude 분석**:
- [이슈 1]
- [이슈 2]

**Codex 검토**:
- [동의/반박 내용]

**최종 합의**:
| 우선순위 | 이슈 | 수정 방안 |
|---------|------|----------|
| P0 | ... | ... |
```
